# HTTP

* http协议概述
  * Hyper Text Transfer Protocol 超文本传输协议
  * 浏览器给服务器发送请求，服务器响应
  * 浏览器和服务器之间建立一种约定
  * 可以理解为数据格式

---

###### HTTP特点

* 基于TCP协议：面向连接、安全
* 一次请求对应一次响应
* 对事务处理没有记忆能力，每次请求-响应都是独立的
  * 多次请求间不能共享数据
  * 速度快



---

* 请求数据格式
  * 请求行
    * 请求方式，资源路径，协议
  * 请求头
    * key-value形式的键值段
    * 常见的请求头及其含义
      * host：请求的主机名
      * User-Agent：浏览器版本
        * 告诉服务器浏览器版本，用于浏览器的兼容处理
      * Accept：代表浏览器能接收的数据类型
      * Accept-Language：表示浏览器偏好的语言（例如中文）
      * Accept-Encoding：表示浏览器可以支持的压缩类型
      * Content-Type：请求主体的数据类型
      * Content-Length：请求主体的大小（字节）
  * 请求体
    * Post请求特有的组成部分
    * Post请求最后一部分
    * 用来存放请求参数
    * 请求大小没有限制

---

Get请求：没有请求体，请求参数放在请求行中，`?key = value`的形式；请求大小有限制

POST请求：请求参数在请求体中；请求大小没有限制

---

* ##### 响应数据的格式

* 响应行

  * 协议以及协议的版本
  * 空格
  * 响应的状态码
    * 200 成功
  * 空格
  * 英文（描述状态）

* 响应头

  * key：value

* 响应体

  * 响应数据的最后一部分
  * 和响应头之间有一个空行

  ---

  ## 响应的状态码

  * ##### 100多：响应中 

  * ##### 2xx：成功

  * ##### 3xx：重定向（让客户再发起一次请求以完成整个处理）

  * ##### 4xx：客户端错误，处理发生错误，责任在客户端

    * 请求了不存在的资源
    * 客户端未被授权
    * 禁止访问
    * ……

  * ##### 5xx：服务器错误，处理发生错误，责任在服务端

    * 程序抛出异常
    * ……

  ### 具体的可以查表

  ---

  # 常见的响应头

  * Content-Type：
    * 响应内容的类型
  * Content-Length：
    * 响应内容的长度（字节数）
  * Content-Encoding：
    * 响应压缩算法
  * Cache-Control：
    * 表示客户端如何缓存
  * Set-Cookie：
    * 告诉浏览器为当前页面所在的域设置cookie

---

# Http协议的解析

* 客户端

  * 浏览器内置解析，不需操作

* 服务器端

  * 对请求数据进行解析

  * ## 在服务器端如何解析数据并给浏览器响应数据

---

* web服务器封装了HTTP协议的操作，程序员不需要直接对协议进行操作